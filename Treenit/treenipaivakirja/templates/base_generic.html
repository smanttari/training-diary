<!DOCTYPE html>
<html lang="en">
<head>

	{% load static %} 

	<title>{% block title %}Treenipäiväkirja{% endblock %}</title>
	<link href="{% static 'treenipaivakirja/images/logo-dark.ico' %}" rel="icon" type="image/ico"/> 

	<meta charset="utf-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="{% static 'treenipaivakirja/css/bootstrap_theme.css' %}">
	<link rel="stylesheet" href="{% static 'treenipaivakirja/css/fontawesome.css' %}">
	<link rel="stylesheet" href="{% static 'treenipaivakirja/css/fontawesome-solid.css' %}">
	<link rel="stylesheet" href="{% static 'treenipaivakirja/css/fontawesome-regular.css' %}">
	<link rel="stylesheet" href="{% static 'treenipaivakirja/css/gijgo.min.css' %}">
	<link rel="stylesheet" href="{% static 'treenipaivakirja/css/datatables.min.css' %}">
	<link rel="stylesheet" href="{% static 'treenipaivakirja/css/custom_styles.css' %}">

	<script src="{% static 'treenipaivakirja/js/main.js' %}"></script>
	<script src="{% static 'treenipaivakirja/js/jquery.min.js' %}"></script>
	<script src="{% static 'treenipaivakirja/js/bootstrap.bundle.min.js' %}"></script>
	<script src="{% static 'treenipaivakirja/js/gijgo.min.js' %}"></script>
	<script src="{% static 'treenipaivakirja/js/datatables.min.js'  %}"></script>
	<script src="{% static 'treenipaivakirja/js/d3.min.js' %}"></script>
	<script src="{% static 'treenipaivakirja/js/d3Charts.js' %}"></script>
	<script src="{% static 'treenipaivakirja/js/d3Table.js' %}"></script>

	{% block head %}{% endblock %}

</head>

<body>

	<nav class="navbar navbar-expand-md fixed-top navbar-dark bg-dark">
		<a class="navbar-brand ml-1" href="{% url 'index' %}"><img src="{% static 'treenipaivakirja/images/logo-light.svg' %}" width="30" height="30" alt="logo"></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item ml-3">
					<a class="nav-link" id="nav_index" href="{% url 'index' %}">ETUSIVU</a>
				</li>
				<li class="nav-item ml-3">
					<a class="nav-link" id="nav_trainings" href="{% url 'trainings' %}">HARJOITUKSET</a>
				</li>
				<li class="nav-item dropdown ml-3">
					<a class="nav-link dropdown-toggle" id="nav_reports" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">RAPORTIT</a>
					<div class="dropdown-menu" aria-labelledby="reports">
						<a class="dropdown-item" id="nav_report_amounts" href="{% url 'reports_amounts' %}">MÄÄRÄT</a>
						<a class="dropdown-item" id="nav_report_sports" href="{% url 'reports_sports' %}">LAJIT</a>
						<a class="dropdown-item" id="nav_report_zones" href="{% url 'reports_zones' %}">TEHOT</a>
					</div>
				</li>
			</ul>
			<ul class="navbar-nav ml-auto">
				{% if user.is_authenticated %}
				<li class="nav-item dropdown ml-3">
					<a class="nav-link dropdown-toggle text-primary" id="nav_user" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-user pr-1"></i>{% if user.first_name %} {{ user.first_name}} {% else %} {{ user.username }} {% endif %}</a>
					<div class="dropdown-menu dropdown-menu-right" aria-labelledby="user">
						<h6 class="dropdown-header">{% if user.first_name %} {{ user.first_name}} {% else %} {{ user.username }} {% endif %}</h6>
						<a class="dropdown-item text-primary" id="nav_settings" href="{% url 'settings' %}"><i class="fas fa-cog pr-2"></i>ASETUKSET</a>
						<a class="dropdown-item text-primary" id="nav_logout" href="{% url 'logout' %}"><i class="fas fa-sign-out-alt pr-2"></i>KIRJAUDU ULOS</a>
					</div>
				</li>
				{% else %}
				<li class="nav-item ml-3"><a class="nav-link text-primary" id="nav_log_in" href="{% url 'login' %}"><i class="fas fa-sign-in-alt pr-2"></i>KIRJAUDU SISÄÄN</a></li>
				{% endif %}
			</ul>
		</div>
	</nav>

	<div class="main_div">

		<div class="container-fluid">
			<h4 class="text-uppercase text-dark">{% block header %}{% endblock %}</h4>
		</div>
		<div class="container-fluid pt-3 pb-3">
			
			{% for message in messages %}
			<div id = "message_box" class="alert alert-{% if message.tags == 'success' %}success{% elif message.tags == 'error' %}danger{% else %}info{%endif%} alert-dismissible fade show" role="alert">
			<strong class="text-uppercase mr-1">
				{% if message.tags == 'success' %}<i class="fas fa-check-circle"></i>
				{% elif message.tags == 'error' %}<i class="fas fa-times-circle"></i>
				{% else %}<i class="fas fa-info-circle"></i>
				{% endif %}
			</strong>
				<span id="message_text">{{ message|safe }}</span>
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			</div>
			{% endfor %}

			{% block content %}
			{% endblock %}
		</div>

		<footer class="footer bg-dark pt-3 pb-3">
			<div class="container">
				<span class="text-muted">&copy; smanttari</span>
			</div>
		</footer>

	</div>

</body>

</html>